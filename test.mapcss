point[place] {
  text: eval(concat('== ', tag(name), ' =='));
  text-halo-radius: 2;
  text-halo-fill: #ffffff;	// Mapnik >= version 3.0 or branch harfbuzz

  character-spacing: 1;
  text-opacity: 0.7;

  z-index: 10;
}
point[place]::buffer {
  set radius=eval(sqrt(tag(population)));
}
point[place][radius>0]::buffer {
  geo: eval(buffer(prop(geo), tag(radius)));
  fill-color: #00ff00;
  width: 1;
  color: #007f00;
  z-index: -2;
}


area[building] {
  fill-color: #707070;		// Mapnik >= version 3.0
  width: 1;			// Mapnik >= version 3.0 or branch stroke-width-expr
  color: #000000;		// Mapnik >= version 3.0
}

way|z11-::casing
{
  z-index: -20;
  object-z-index: -1;
}
way|z11-14[highway=primary]
{
  width: 2;
  color: #ff0000;
}
way|z11-14[highway=primary]::casing
{
  width: 4;
  color: #A0A0A0;
}

way|z15-[highway=primary]
{
  width: 4;
  color: #ff0000;
}
way|z15-[highway=primary]::casing
{
  width: 7;
  color: #A0A0A0;
}
way|z11-[bridge]::casing
{
  color: #000000;
}

way[highway=residential],
way[highway=unclassified] {
  set .minor_road;
}
way.minor_road {
  width: 2;
  color: #ff0000;
  z-index: -1;
}

relation[route=tram] in line|z15-[railway] {
  set ref_list = eval(push(tag(ref_list), parent_tag(ref)));
}
line[railway] {
  text: eval(join(sort(unique(tag(ref_list))), ", "));
  width: 2;
  color: #000000;
  text-color: #ff0000;
  text-position: line;
  text-halo-color: #000000;
  text-halo-radius: 1;
}
